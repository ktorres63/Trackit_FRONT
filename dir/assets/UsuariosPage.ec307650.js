import{a as r,Q as v}from"./QBtn.0ad5278d.js";import{Q as D,a as I,b as T,c as V,d as B}from"./QTable.e5c26aa5.js";import{Q as x,a as P,b as y,c as j}from"./QCard.f5b28e23.js";import{Q as d}from"./QInput.aa77b749.js";import{a as Q}from"./axios.0ed95acd.js";import{A as U}from"./apiConfig.1e70a3d4.js";import{r as u,z as L,o as p,U as _,d as n,a as e,w as o,V as S,W as $,O as f,X as C,c as z}from"./index.5ebe2dc0.js";import"./use-dark.cd4d1793.js";import"./format.89b542e2.js";import"./scroll.7716672b.js";import"./use-key-composition.b507003b.js";const F={class:"tw-p-4"},M={class:"tw-flex tw-flex-row tw-justify-between"},O={class:"tw-font-roboto-condensed tw-font-bold tw-text-primary tw-text-sm"},R={class:"tw-flex tw-justify-center tw-gap-2"},W="",oe={__name:"UsuariosPage",setup(X){const c=u([]),m=u(!0),k={page:1,rowsPerPage:10},i=u(!1),t=u({dni:"",nombres:"",apellidos:"",email:""}),N=[{name:"index",label:"Nro.",align:"center"},{name:"dni",label:"DNI",align:"left",field:"dni"},{name:"nombres",label:"Nombre",align:"left",field:"nombres"},{name:"apellidos",label:"Apellidos",align:"left",field:"apellidos"},{name:"email",label:"Email",align:"left",field:"email"},{name:"action",label:"Acciones",align:"center",field:"action"}],b=async()=>{m.value=!0;try{const s=await Q.get(`${U}usuario/api/list/`);c.value=s.data}catch(s){console.error("Error fetching users:",s)}finally{m.value=!1}},A=()=>{i.value=!0,t.value={dni:"",nombres:"",apellidos:"",email:""}},w=()=>{i.value=!1},E=async()=>{try{await Q.post(`${U}usuario/api/create/`,t.value),b(),w()}catch(s){console.error("Error creating user:",s)}};return L(b),(s,l)=>(p(),_("div",F,[n("div",M,[l[5]||(l[5]=n("h1",{class:"tw-text-2xl tw-p-3"},"Usuarios",-1)),e(r,{class:"tw-h-fit tw-self-center",color:"primary",label:"A\xF1adir",onClick:A})]),e(D,{rows:c.value,columns:N,"row-key":"dni",loading:m.value,filter:W,pagination:k},{header:o(a=>[e(T,{props:a},{default:o(()=>[(p(!0),_(S,null,$(a.cols,g=>(p(),z(B,{key:g.name,props:a},{default:o(()=>[n("span",O,C(g.label),1)]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),"body-cell-index":o(a=>[e(V,{props:a},{default:o(()=>[f(C(a.rowIndex+1),1)]),_:2},1032,["props"])]),"body-cell-action":o(a=>[e(V,{props:a},{default:o(()=>[n("div",R,[e(r,{"data-test":"edit-btn",class:"tw-bg-decoration",dense:"",round:"",flat:""},{default:o(()=>[e(v,{name:"edit",style:{color:"#f59e0b"}}),e(x,null,{default:o(()=>l[6]||(l[6]=[f("Editar")])),_:1})]),_:1}),e(r,{"data-test":"remove-btn",class:"tw-bg-decoration",dense:"",round:"",flat:""},{default:o(()=>[e(v,{name:"delete",color:"red"}),e(x,null,{default:o(()=>l[7]||(l[7]=[f("Eliminar")])),_:1})]),_:1})])]),_:2},1032,["props"])]),_:1},8,["rows","loading"]),e(I,{modelValue:i.value,"onUpdate:modelValue":l[4]||(l[4]=a=>i.value=a)},{default:o(()=>[e(P,{style:{width:"700px","max-width":"80vw"}},{default:o(()=>[e(y,null,{default:o(()=>l[8]||(l[8]=[n("div",{class:"text-h6"},"Crear Usuario",-1)])),_:1}),e(y,{class:""},{default:o(()=>[e(d,{modelValue:t.value.dni,"onUpdate:modelValue":l[0]||(l[0]=a=>t.value.dni=a),label:"DNI"},null,8,["modelValue"]),e(d,{modelValue:t.value.nombres,"onUpdate:modelValue":l[1]||(l[1]=a=>t.value.nombres=a),label:"Nombres"},null,8,["modelValue"]),e(d,{modelValue:t.value.apellidos,"onUpdate:modelValue":l[2]||(l[2]=a=>t.value.apellidos=a),label:"Apellidos"},null,8,["modelValue"]),e(d,{modelValue:t.value.email,"onUpdate:modelValue":l[3]||(l[3]=a=>t.value.email=a),label:"Email"},null,8,["modelValue"])]),_:1}),e(j,{class:"tw-p-5"},{default:o(()=>[e(r,{color:"primary",label:"Crear",onClick:E}),e(r,{flat:"",label:"Cancelar",onClick:w})]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}};export{oe as default};
