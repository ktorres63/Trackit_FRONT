import{g as x,e as d,h,r as w,y as D,z as P,v as Q,A as M,B as N,i as $,x as B,C as U,D as V,E as j,F as S,G as L,H as G,I as K}from"./index.5ebe2dc0.js";import{h as A,b as J,c as X}from"./QBtn.0ad5278d.js";import{s as Y,g as Z,a as ee,b as te,c as E}from"./scroll.7716672b.js";var se=x({name:"QToolbarTitle",props:{shrink:Boolean},setup(e,{slots:g}){const o=d(()=>"q-toolbar__title ellipsis"+(e.shrink===!0?" col-shrink":""));return()=>h("div",{class:o.value},A(g.default))}}),ue=x({name:"QToolbar",props:{inset:Boolean},setup(e,{slots:g}){const o=d(()=>"q-toolbar row no-wrap items-center"+(e.inset===!0?" q-toolbar--inset":""));return()=>h("div",{class:o.value,role:"toolbar"},A(g.default))}});function oe(){const e=w(!D.value);return e.value===!1&&P(()=>{e.value=!0}),{isHydrated:e}}const I=typeof ResizeObserver!="undefined",W=I===!0?{}:{style:"display:block;position:absolute;top:0;left:0;right:0;bottom:0;height:100%;width:100%;overflow:hidden;pointer-events:none;z-index:-1;",url:"about:blank"};var F=x({name:"QResizeObserver",props:{debounce:{type:[String,Number],default:100}},emits:["resize"],setup(e,{emit:g}){let o=null,l,n={width:-1,height:-1};function c(a){a===!0||e.debounce===0||e.debounce==="0"?s():o===null&&(o=setTimeout(s,e.debounce))}function s(){if(o!==null&&(clearTimeout(o),o=null),l){const{offsetWidth:a,offsetHeight:i}=l;(a!==n.width||i!==n.height)&&(n={width:a,height:i},g("resize",n))}}const{proxy:v}=$();if(v.trigger=c,I===!0){let a;const i=m=>{l=v.$el.parentNode,l?(a=new ResizeObserver(c),a.observe(l),s()):m!==!0&&N(()=>{i(!0)})};return P(()=>{i()}),Q(()=>{o!==null&&clearTimeout(o),a!==void 0&&(a.disconnect!==void 0?a.disconnect():l&&a.unobserve(l))}),M}else{let m=function(){o!==null&&(clearTimeout(o),o=null),i!==void 0&&(i.removeEventListener!==void 0&&i.removeEventListener("resize",c,B.passive),i=void 0)},b=function(){m(),l&&l.contentDocument&&(i=l.contentDocument.defaultView,i.addEventListener("resize",c,B.passive),s())};const{isHydrated:a}=oe();let i;return P(()=>{N(()=>{l=v.$el,l&&b()})}),Q(m),()=>{if(a.value===!0)return h("object",{class:"q--avoid-card-border",style:W.style,tabindex:-1,type:"text/html",data:W.url,"aria-hidden":"true",onLoad:b})}}}}),ce=x({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:g,emit:o}){const{proxy:{$q:l}}=$(),n=U(j,V);if(n===V)return console.error("QHeader needs to be child of QLayout"),V;const c=w(parseInt(e.heightHint,10)),s=w(!0),v=d(()=>e.reveal===!0||n.view.value.indexOf("H")!==-1||l.platform.is.ios&&n.isContainer.value===!0),a=d(()=>{if(e.modelValue!==!0)return 0;if(v.value===!0)return s.value===!0?c.value:0;const t=c.value-n.scroll.value.position;return t>0?t:0}),i=d(()=>e.modelValue!==!0||v.value===!0&&s.value!==!0),m=d(()=>e.modelValue===!0&&i.value===!0&&e.reveal===!0),b=d(()=>"q-header q-layout__section--marginal "+(v.value===!0?"fixed":"absolute")+"-top"+(e.bordered===!0?" q-header--bordered":"")+(i.value===!0?" q-header--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus":"")),z=d(()=>{const t=n.rows.value.top,y={};return t[0]==="l"&&n.left.space===!0&&(y[l.lang.rtl===!0?"right":"left"]=`${n.left.size}px`),t[2]==="r"&&n.right.space===!0&&(y[l.lang.rtl===!0?"left":"right"]=`${n.right.size}px`),y});function u(t,y){n.update("header",t,y)}function p(t,y){t.value!==y&&(t.value=y)}function C({height:t}){p(c,t),u("size",t)}function O(t){m.value===!0&&p(s,!0),o("focusin",t)}S(()=>e.modelValue,t=>{u("space",t),p(s,!0),n.animate()}),S(a,t=>{u("offset",t)}),S(()=>e.reveal,t=>{t===!1&&p(s,e.modelValue)}),S(s,t=>{n.animate(),o("reveal",t)}),S(n.scroll,t=>{e.reveal===!0&&p(s,t.direction==="up"||t.position<=e.revealOffset||t.position-t.inflectionPoint<100)});const q={};return n.instances.header=q,e.modelValue===!0&&u("size",c.value),u("space",e.modelValue),u("offset",a.value),Q(()=>{n.instances.header===q&&(n.instances.header=void 0,u("size",0),u("offset",0),u("space",!1))}),()=>{const t=J(g.default,[]);return e.elevated===!0&&t.push(h("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),t.push(h(F,{debounce:0,onResize:C})),h("header",{class:b.value,style:z.value,onFocusin:O},t)}}});const{passive:_}=B,ne=["both","horizontal","vertical"];var le=x({name:"QScrollObserver",props:{axis:{type:String,validator:e=>ne.includes(e),default:"vertical"},debounce:[String,Number],scrollTarget:Y},emits:["scroll"],setup(e,{emit:g}){const o={position:{top:0,left:0},direction:"down",directionChanged:!1,delta:{top:0,left:0},inflectionPoint:{top:0,left:0}};let l=null,n,c;S(()=>e.scrollTarget,()=>{a(),v()});function s(){l!==null&&l();const b=Math.max(0,ee(n)),z=te(n),u={top:b-o.position.top,left:z-o.position.left};if(e.axis==="vertical"&&u.top===0||e.axis==="horizontal"&&u.left===0)return;const p=Math.abs(u.top)>=Math.abs(u.left)?u.top<0?"up":"down":u.left<0?"left":"right";o.position={top:b,left:z},o.directionChanged=o.direction!==p,o.delta=u,o.directionChanged===!0&&(o.direction=p,o.inflectionPoint=o.position),g("scroll",{...o})}function v(){n=Z(c,e.scrollTarget),n.addEventListener("scroll",i,_),i(!0)}function a(){n!==void 0&&(n.removeEventListener("scroll",i,_),n=void 0)}function i(b){if(b===!0||e.debounce===0||e.debounce==="0")s();else if(l===null){const[z,u]=e.debounce?[setTimeout(s,e.debounce),clearTimeout]:[requestAnimationFrame(s),cancelAnimationFrame];l=()=>{u(z),l=null}}}const{proxy:m}=$();return S(()=>m.$q.lang.rtl,s),P(()=>{c=m.$el.parentNode,v()}),Q(()=>{l!==null&&l(),a()}),Object.assign(m,{trigger:i,getPosition:()=>o}),M}}),de=x({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:e=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(e.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(e,{slots:g,emit:o}){const{proxy:{$q:l}}=$(),n=w(null),c=w(l.screen.height),s=w(e.container===!0?0:l.screen.width),v=w({position:0,direction:"down",inflectionPoint:0}),a=w(0),i=w(D.value===!0?0:E()),m=d(()=>"q-layout q-layout--"+(e.container===!0?"containerized":"standard")),b=d(()=>e.container===!1?{minHeight:l.screen.height+"px"}:null),z=d(()=>i.value!==0?{[l.lang.rtl===!0?"left":"right"]:`${i.value}px`}:null),u=d(()=>i.value!==0?{[l.lang.rtl===!0?"right":"left"]:0,[l.lang.rtl===!0?"left":"right"]:`-${i.value}px`,width:`calc(100% + ${i.value}px)`}:null);function p(r){if(e.container===!0||document.qScrollPrevented!==!0){const f={position:r.position.top,direction:r.direction,directionChanged:r.directionChanged,inflectionPoint:r.inflectionPoint.top,delta:r.delta.top};v.value=f,e.onScroll!==void 0&&o("scroll",f)}}function C(r){const{height:f,width:T}=r;let H=!1;c.value!==f&&(H=!0,c.value=f,e.onScrollHeight!==void 0&&o("scrollHeight",f),q()),s.value!==T&&(H=!0,s.value=T),H===!0&&e.onResize!==void 0&&o("resize",r)}function O({height:r}){a.value!==r&&(a.value=r,q())}function q(){if(e.container===!0){const r=c.value>a.value?E():0;i.value!==r&&(i.value=r)}}let t=null;const y={instances:{},view:d(()=>e.view),isContainer:d(()=>e.container),rootRef:n,height:c,containerHeight:a,scrollbarWidth:i,totalWidth:d(()=>s.value+i.value),rows:d(()=>{const r=e.view.toLowerCase().split(" ");return{top:r[0].split(""),middle:r[1].split(""),bottom:r[2].split("")}}),header:L({size:0,offset:0,space:!1}),right:L({size:300,offset:0,space:!1}),footer:L({size:0,offset:0,space:!1}),left:L({size:300,offset:0,space:!1}),scroll:v,animate(){t!==null?clearTimeout(t):document.body.classList.add("q-body--layout-animate"),t=setTimeout(()=>{t=null,document.body.classList.remove("q-body--layout-animate")},155)},update(r,f,T){y[r][f]=T}};if(G(j,y),E()>0){let T=function(){r=null,f.classList.remove("hide-scrollbar")},H=function(){if(r===null){if(f.scrollHeight>l.screen.height)return;f.classList.add("hide-scrollbar")}else clearTimeout(r);r=setTimeout(T,300)},R=function(k){r!==null&&k==="remove"&&(clearTimeout(r),T()),window[`${k}EventListener`]("resize",H)},r=null;const f=document.body;S(()=>e.container!==!0?"add":"remove",R),e.container!==!0&&R("add"),K(()=>{R("remove")})}return()=>{const r=X(g.default,[h(le,{onScroll:p}),h(F,{onResize:C})]),f=h("div",{class:m.value,style:b.value,ref:e.container===!0?void 0:n,tabindex:-1},r);return e.container===!0?h("div",{class:"q-layout-container overflow-hidden",ref:n},[h(F,{onResize:O}),h("div",{class:"absolute-full",style:z.value},[h("div",{class:"scroll",style:u.value},[f])])]):f}}});export{de as Q,ue as a,se as b,ce as c};
